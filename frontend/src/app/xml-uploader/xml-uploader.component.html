<div>
  <!-- Upload Button - shown when displayMode is 'button' or 'both' -->
  <div class="upload-button-container" *ngIf="displayMode === 'button' || displayMode === 'both'">
    <label for="file-upload" class="custom-file-upload">
      <i class="upload-icon"></i>
      XML Dateien hochladen
    </label>
    <input id="file-upload" type="file" (change)="onFilesSelected($event)" accept=".xml" multiple />
  </div>

  <!-- Overall Progress Bar - shown when files are being uploaded -->
  <div class="overall-progress-container" *ngIf="parsedFiles.length > 0 && overallProgress > 0 && overallProgress < 100">
    <div class="overall-progress-info">
      <span>Gesamtfortschritt: {{ overallProgress }}%</span>
      <span *ngIf="estimatedTimeRemaining">Verbleibende Zeit: {{ estimatedTimeRemaining }}</span>
    </div>
    <div class="overall-progress-bar-container">
      <div class="overall-progress-bar" [style.width]="overallProgress + '%'"></div>
      <div class="overall-progress-percentage">{{ overallProgress }}%</div>
    </div>
  </div>

  <!-- File Content Display - shown when displayMode is 'files' or 'both' -->
  <div class="files-container" *ngIf="displayMode === 'files' || displayMode === 'both'">
    <div *ngFor="let file of parsedFiles" class="file-item">
      <h3>
        <span class="filename">{{ file.name }}</span>
        <span *ngIf="uploadStatus[file.name] === 'pending'" class="status pending">Wird hochgeladen...</span>
        <span *ngIf="uploadStatus[file.name] === 'success'" class="status success">Hochgeladen</span>
        <span *ngIf="uploadStatus[file.name] === 'error'" class="status error tooltip">
          Fehler
          <span class="tooltiptext" *ngIf="getErrorMessage(file.name)">{{ getErrorMessage(file.name) }}</span>
        </span>
      </h3>
    </div>
  </div>
</div>
